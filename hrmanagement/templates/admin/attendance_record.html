{% extends 'base_admin.html' %}

{% block title %}Attendance Management{% endblock %}

{% block content %}
<div class="container mx-auto p-6 flex-1">

    <h1 class="text-3xl font-semibold text-gray-700 mb-6">Attendance Management</h1>

    <!-- Display success/error messages -->
    {% if messages %}
    <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6">
        <ul>
            {% for message in messages %}
            <li>{{ message }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}

    <!-- Attendance Records Table -->
    <div class="overflow-x-auto bg-white shadow-lg rounded-lg">
        <table class="min-w-full table-auto">
            <thead class="bg-gray-100">
                <tr class="text-left">
                    <th class="px-4 py-2 text-sm text-gray-600">Employee Name</th>
                    <th class="px-4 py-2 text-sm text-gray-600">Date</th>
                    <th class="px-4 py-2 text-sm text-gray-600">Time In</th>
                    <th class="px-4 py-2 text-sm text-gray-600">Time Out</th>
                    <th class="px-4 py-2 text-sm text-gray-600">Total Hours</th>
                    <th class="px-4 py-2 text-sm text-gray-600">Status</th>
                </tr>
            </thead>
            <tbody>
                {% for record in attendance_records %}
                <tr class="border-t">
                    <td class="px-4 py-2 text-sm">{{ record.employee }}</td>  <!-- Display employee name -->
                    <td class="px-4 py-2 text-sm">{{ record.date }}</td>  <!-- Display date -->
                    <td class="px-4 py-2 text-sm">{{ record.time_in }}</td>  <!-- Display time_in -->
                    <td class="px-4 py-2 text-sm">{{ record.time_out }}</td>  <!-- Display time_out -->
                    <td class="px-4 py-2 text-sm">{{ record.total_hours }}</td>  <!-- Display total_hours -->
                    <td class="px-4 py-2 text-sm">{{ record.get_status_display }}</td>  <!-- Display status (Present/Absent/Leave) -->
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

</div>
{% endblock %}
