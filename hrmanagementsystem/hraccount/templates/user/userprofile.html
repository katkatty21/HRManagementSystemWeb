{% extends 'base_admin.html' %}
{% load static %}

{% block title %}Profile{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- Profile Header -->

    <div class="bg-white rounded-lg shadow-lg overflow-hidden mb-8 relative">
        <div class="bg-blue-600 h-32"></div>
        <div class="relative px-6 pb-6">
            <div class="flex flex-col sm:flex-row items-center justify-between">
                <div class="flex items-center">
                    <div class="relative -top-16">
                        <img src="{{ employee.profile_picture.url }}" alt="Profile Picture"
                            class="w-32 h-32 rounded-full border-4 border-white shadow-lg object-cover" />
                    </div>
                    <div class="sm:ml-6 mt-4 sm:-mt-12 text-center sm:text-left">
                        <h1 class="text-3xl font-bold text-gray-900">
                            {{ employee.first_name }}{% if employee.middle_name %} {{ employee.middle_name }}{% endif %}
                            {{ employee.last_name }}
                        </h1>
                        <p class="text-lg text-gray-600">
                            {{ employee.job.job_title }} at {{ employee.job.department.department_name }}
                        </p>
                    </div>
                </div>
                <!-- Update Profile Button -->
                <div class="absolute top-4 right-6">
                    <a href="{% url 'update_profile' %}"
                        class="bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700">
                        Update Profile
                    </a>
                </div>
            </div>
        </div>
    </div>


    <!-- Main Content Grid -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <!-- Personal Information -->
        <div class="lg:col-span-2 space-y-8">
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-semibold text-gray-900 mb-6">Personal Information</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <p class="text-sm text-gray-500">Email</p>
                        <p class="text-lg font-medium">{{ employee.email }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">Date of Birth</p>
                        <p class="text-lg font-medium">{{ employee.birthdate }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">Gender</p>
                        <p class="text-lg font-medium">{{ employee.sex }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">Marital Status</p>
                        <p class="text-lg font-medium">{{ employee.marital_status }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">Nationality</p>
                        <p class="text-lg font-medium">{{ employee.nationality }}</p>
                    </div>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-semibold text-gray-900 mb-6">Contact Information</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <p class="text-sm text-gray-500">Phone Number</p>
                        <p class="text-lg font-medium">{{ employee.active_phone_number }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">Address</p>
                        <p class="text-lg font-medium">{{ employee.address }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">City</p>
                        <p class="text-lg font-medium">{{ employee.city }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">Province</p>
                        <p class="text-lg font-medium">{{ employee.province }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">ZIP Code</p>
                        <p class="text-lg font-medium">{{ employee.zip_code }}</p>
                    </div>
                </div>
            </div>

            <!-- Employment Information -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-semibold text-gray-900 mb-6">Employment Information</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <p class="text-sm text-gray-500">Date Hired</p>
                        <p class="text-lg font-medium">{{ employee.date_hired }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">Employment Status</p>
                        <p class="text-lg font-medium">{{ employee.employment_status }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">Role</p>
                        <p class="text-lg font-medium">{{ employee.role }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">Department</p>
                        <p class="text-lg font-medium">{{ employee.job.department.department_name }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">Position</p>
                        <p class="text-lg font-medium">{{ employee.job.job_title }}</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Side Information -->
        <div class="space-y-8">
            <!-- Account Information -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-semibold text-gray-900 mb-6">Account Information</h2>
                <div class="space-y-4">
                    <div>
                        <p class="text-sm text-gray-500">Username</p>
                        <p class="text-lg font-medium">{{ employee.user_account.username }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">Password</p>
                        <div class="relative">
                            <input type="password" id="password-field" value="{{ employee.user_account.password }}"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg" readonly />
                            <button type="button" id="toggle-password"
                                class="absolute inset-y-0 right-0 px-4 text-gray-500 focus:outline-none">
                                <i id="password-icon" class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">Account Created</p>
                        <p class="text-lg font-medium">{{ employee.user_account.date_account_added }}</p>
                    </div>
                </div>
            </div>


            <!-- Government IDs -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-semibold text-gray-900 mb-6">Government Information</h2>
                <div class="space-y-4">
                    <div>
                        <p class="text-sm text-gray-500">SSS Number</p>
                        <p class="text-lg font-medium">{{ employee.sss_number }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">Pag-IBIG Number</p>
                        <p class="text-lg font-medium">{{ employee.pagibig_number }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">PhilHealth Number</p>
                        <p class="text-lg font-medium">{{ employee.philhealth_number }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">TIN Number</p>
                        <p class="text-lg font-medium">{{ employee.tin_number }}</p>
                    </div>
                </div>
            </div>

            <!-- Emergency Contact -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-semibold text-gray-900 mb-6">Emergency Contact</h2>
                <div class="space-y-4">
                    <div>
                        <p class="text-sm text-gray-500">Name</p>
                        <p class="text-lg font-medium">{{ employee.emergency_contact_name }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">Relationship</p>
                        <p class="text-lg font-medium">{{ employee.emergency_contact_rs }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">Contact Number</p>
                        <p class="text-lg font-medium">{{ employee.emergency_contact_number }}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const passwordField = document.getElementById('password-field');
    const togglePassword = document.getElementById('toggle-password');
    const passwordIcon = document.getElementById('password-icon');

    togglePassword.addEventListener('click', () => {
        if (passwordField.type === 'password') {
            passwordField.type = 'text';
            passwordIcon.classList.replace('fa-eye', 'fa-eye-slash');
        } else {
            passwordField.type = 'password';
            passwordIcon.classList.replace('fa-eye-slash', 'fa-eye');
        }
    });
</script>
{% endblock %}