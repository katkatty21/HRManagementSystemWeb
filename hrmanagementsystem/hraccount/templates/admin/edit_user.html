{% extends 'base_admin.html' %}

{% block title %}Edit User{% endblock %}

{% block content %}
<div class="container mx-auto p-4">
    <h1 class="text-3xl font-semibold text-gray-700 mb-6">Edit User</h1>

    <!-- Edit User Form -->
    <form method="POST" action="{% url 'edit_user' user.account_id %}" class="space-y-6 bg-white p-8 rounded-lg shadow-md">
        {% csrf_token %}
        
        <!-- First Name -->
        <div>
            <label for="first_name" class="block text-sm text-gray-600">First Name</label>
            <input type="text" id="first_name" name="first_name" value="{{ user.first_name }}" class="mt-2 px-4 py-2 w-full border border-gray-300 rounded-lg" required>
        </div>

        <!-- Last Name -->
        <div>
            <label for="last_name" class="block text-sm text-gray-600">Last Name</label>
            <input type="text" id="last_name" name="last_name" value="{{ user.last_name }}" class="mt-2 px-4 py-2 w-full border border-gray-300 rounded-lg" required>
        </div>

        <!-- Email -->
        <div>
            <label for="email" class="block text-sm text-gray-600">Email</label>
            <input type="email" id="email" name="email" value="{{ user.email }}" class="mt-2 px-4 py-2 w-full border border-gray-300 rounded-lg" required>
        </div>

        <!-- Role -->
        <div>
            <label for="role" class="block text-sm text-gray-600">Role</label>
            <select id="role" name="role" class="mt-2 px-4 py-2 w-full border border-gray-300 rounded-lg">
                <option value="User" {% if user.role == 'User' %}selected{% endif %}>User</option>
                <option value="Admin" {% if user.role == 'Admin' %}selected{% endif %}>Admin</option>
            </select>
        </div>

        <!-- Password (Optional for update) -->
        <div>
            <label for="password" class="block text-sm text-gray-600">Password</label>
            <input type="text" id="password" name="password" value="{{ user.password }}" readonly class="mt-2 px-4 py-2 w-full border border-gray-300 rounded-lg bg-gray-100" required>
        </div>

        <!-- Submit Button -->
        <div class="mt-6 flex justify-end">
            <button type="submit" class="px-6 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700">Save Changes</button>
        </div>
    </form>

    <!-- Back to User Management Link -->
    <div class="mt-6">
        <a href="{% url 'users_list' %}" class="text-blue-500 hover:underline">Back to User Management</a>
    </div>
</div>
{% endblock %}
